<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SecureClip Â· Secure Link Transfer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <main class="container">

    <!-- Header -->
    <header class="header">
      <h1>SecureClip</h1>
      <p class="subtitle">
        Securely transfer text or files between devices
        <br />
        <span>End-to-End Encrypted Â· Auto-Expires Â· One-Time Access</span>
      </p>
    </header>

    <!-- INPUT -->
    <section class="card">
      <label for="text"><strong>Text (optional)</strong></label>
      <textarea
        id="text"
        placeholder="Paste text hereâ€¦ (or upload a file below)"
        aria-label="Secure text input"
      ></textarea>

      <label for="file"><strong>File (optional)</strong></label>
      <input type="file" id="file" />

      <button onclick="send()">Generate Secure QR</button>

      <p class="hint">
        Text and files are encrypted locally in your browser and never stored in plain text.
      </p>
    </section>

    <!-- RESULT -->
    <section class="card result">
      <h3 id="code" aria-live="polite"></h3>

      <div class="qr-box">
        <canvas id="qr"></canvas>
      </div>

      <p class="expiry">
        â± Expires in <strong>30 seconds</strong> Â· One-time use only
      </p>
    </section>

    <!-- SCAN -->
    <section class="card scan">
      <h3>ğŸ“· Scan SecureClip QR</h3>
      <button onclick="startScan()">Start Camera Scan</button>

      <div id="reader"></div>

      <!-- âœ… REQUIRED USER ACTION BUTTON -->
      <button
        id="actionBtn"
        style="display:none; margin-top:12px;"
      >
        Tap to Copy / Download
      </button>

      <p class="hint">
        After scanning, tap the button to copy text or download the file.
      </p>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>
        Built with â¤ï¸ for security-first workflows Â· SecureClip Â© 2026
      </p>
    </footer>

  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <script src="https://unpkg.com/html5-qrcode"></script>
  <script src="app.js"></script>

</body>
</html>
